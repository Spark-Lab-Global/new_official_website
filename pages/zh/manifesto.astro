---
import Next from "@/components/ui/Next";
import Layout from "@/layouts/Layout.astro";
import A3 from "@/sections/home/A3";
import B1 from "@/sections/manifesto/B1";
// import B4 from "@/sections/en/manifesto/B4";

import { getImage } from "astro:assets";
import a3_a from "@/assets/a3/a.png";
import a3_b from "@/assets/a3/b.png";
import a3_c from "@/assets/a3/c.png";
import a3_d from "@/assets/a3/d.png";
import b1_bg from "@/assets/b1/b1.jpg";

import { getLangFromUrl, useTranslatedPath } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const translatePath = useTranslatedPath(lang);

const a3_images = await Promise.all([
  getImage({
    src: a3_a,
    format: "webp",
  }),
  getImage({
    src: a3_b,
    format: "webp",
  }),
  getImage({
    src: a3_c,
    format: "webp",
  }),
  getImage({
    src: a3_d,
    format: "webp",
  }),
]);

const b1_bg_image = await getImage({
  src: b1_bg,
  format: "webp",
});
---

<Layout>
  <div class="flex flex-col gap-10 pt-30">
    <A3 images={a3_images} client:only="react" />
    <B1 bgImageSrc={b1_bg_image.src} client:only="react" />

    <!-- <B4 /> -->
  </div>
  <Next title="Team" href={translatePath("/team")} />
</Layout>
